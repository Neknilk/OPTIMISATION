import pandas as pd
import matplotlib.pyplot as plt
import cartopy.crs as ccrs
import cartopy.feature as cfeature

# Load the CSV file into a pandas DataFrame
csv_path = r'C:\Users\jayva\Documents\GitHub\OPTIMISATION\ROUTE\best_waypoints.csv'
df = pd.read_csv(csv_path)

# Extract latitude and longitude columns from the DataFrame
latitudes = df['Latitude'].tolist()
longitudes = df['Longitude'].tolist()

# Create a great circle path
start = (latitudes[0], longitudes[0])
end = (latitudes[-1], longitudes[-1])

# Create a Cartopy GeoAxes with PlateCarree projection
fig, ax = plt.subplots(subplot_kw={'projection': ccrs.PlateCarree()})

# Add coastlines and countries to the map
ax.add_feature(cfeature.COASTLINE)
ax.add_feature(cfeature.BORDERS, linestyle=':')

# Draw waypoints
ax.scatter(longitudes, latitudes, s=50, color='blue', label='Waypoints')

# Draw great circle path
ax.plot([start[1], end[1]], [start[0], end[0]], linewidth=2, color='red', label='Great Circle Path')

# Show the plot
plt.title('Great Circle Path and Waypoints')
plt.legend()
plt.show()
